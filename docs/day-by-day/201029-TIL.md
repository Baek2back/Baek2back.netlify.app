# [201028] - TIL ğŸ‘Š

## Position

> static | absolute | fixed | relative

- `static`: ê¸°ë³¸ ê°’ìœ¼ë¡œ Normal flowë¥¼ ë”°ë¼ ë°°ì¹˜ëœë‹¤.
- `relative`: Normal flowì— ë°°ì¹˜ëœ ìœ„ì¹˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì¢Œí‘œë¥¼ ì§€ì •í•œë‹¤. Normal flowì— ë”°ë¼ ê·¸ë¦¬ê³  ë‚œ ë’¤ í•´ë‹¹ ìˆ˜ì¹˜ë§Œí¼ `z-index`ê°€ ìƒìŠ¹í•´ì„œ ì´ë™í•œë‹¤.
- `absolute`: top/left ë“±ì´ ì§€ì •ë˜ë©´ offset parentë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì´ë™í•˜ê³ , top/left ë“±ì´ ëª…ì‹œë˜ì§€ ì•Šìœ¼ë©´ DOM êµ¬ì¡° ìƒ parentë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì‚¼ëŠ”ë‹¤.
- `fixed`: ìŠ¤í¬ë¡¤ê³¼ ê´€ê³„ ì—†ì´ viewportì˜ ì¢Œì¸¡ ìƒë‹¨ì„ ê¸°ì¤€ìœ¼ë¡œ ì„¤ì •í•œë‹¤.

> Offset

Geometry Calculateê°€ ì™„ë£Œë˜ì–´ ì •í™•í•œ ìˆ˜ì¹˜ë¡œ ê³„ì‚°ëœ ê²ƒì„ ì˜ë¯¸í•œë‹¤. ì´ë•Œ ë¸Œë¼ìš°ì €ëŠ” íš¨ìœ¨ì„±ì„ ìœ„í•´ Geometry Calculateë¥¼ Box í¬ê¸°ë¥¼ ì¡°ì •í•  ë•Œë§ˆë‹¤ ê°œë³„ì ìœ¼ë¡œ ê³„ì‚°í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ í•œ ë²ˆì— í•´ê²°í•˜ë ¤ê³  í•œë‹¤. ì´ë•Œ ê³„ì‚°ë˜ëŠ” ë‹¨ìœ„ë¥¼ í”„ë ˆì„(frame)ì´ë¼ í•œë‹¤.

![offsets](../../images/201029-TIL/offsets.png)

ì´ë•Œ offsetì„ ê³„ì‚°í•  ê¸°ì¤€ìœ¼ë¡œ ì‚¼ëŠ” ê²ƒì´ offset parentì´ë©°, ì´ëŠ” DOM êµ¬ì¡°ì™€ëŠ” ë³„ê°œì´ë¯€ë¡œ ì£¼ì˜í•´ì•¼ í•œë‹¤.

- offset parent â†’ null

  - root, HTML, body
  - position: fixed
  - out of DOM tree

- Recursive search
  - ì¬ê·€ì ìœ¼ë¡œ íƒìƒ‰í•˜ë©´ì„œ parent ì¤‘ì—ì„œ position: absolute í˜¹ì€ relativeì¸ ìš”ì†Œë¥¼ offset parentë¡œ ì‚¼ê³ , ë§Œì•½ ë¶€ëª¨ ì¤‘ì— ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ bodyë¥¼ offset parentë¡œ ì‚¼ëŠ”ë‹¤.

```html
<div style="width:300px;height:300px;background:yellow;margin:100px">
  <div style="width:100px;height:100px;position:absolute;background:red"></div>
  <div
    style="width:100px;height:100px;position:absolute;left:0;background:blue"
  ></div>
</div>
```

![absolute1](../../images/201029-TIL/absolute1.png)

ìœ„ì˜ ì˜ˆì œì—ì„œ íŒŒë€ìƒ‰ ë°•ìŠ¤ëŠ” leftê°€ ì§€ì •ë˜ì—ˆìœ¼ë¯€ë¡œ offset parentì˜ ì¢Œì¸¡ì— ë°°ì¹˜ëœ ê²ƒì´ë‹¤. ì¬ê·€ì ìœ¼ë¡œ íƒìƒ‰í•˜ë©´ì„œ parent ì¤‘ì— position: absoluteë‚˜ relatvieë¡œ ì„ ì–¸ëœ ìš”ì†Œë¥¼ ì°¾ì•˜ìœ¼ë‚˜ ë°œê²¬í•˜ì§€ ëª»í•´ì„œ bodyë¥¼ offset parentë¡œ ì„¤ì •í•˜ì˜€ë‹¤.

ë¹¨ê°„ìƒ‰ ë°•ìŠ¤ì˜ ê²½ìš°ì—ëŠ” ë³„ë„ì˜ offsetì„ ì§€ì •í•´ì£¼ì§€ ì•Šì•˜ìœ¼ë¯€ë¡œ Normal flowë¡œ ë°°ì¹˜ë˜ì—ˆì„ ë•Œì˜ ìœ„ì¹˜ì— ìë¦¬í•˜ê²Œ ëœë‹¤.

```html
<div
  style="position:absolute;left:50px;top:50px;background:pink;width:600px;height:600px"
>
  <div style="width:300px;height:300px;background:yellow;margin:100px">
    <div
      style="width:100px;height:100px;position:absolute;background:red"
    ></div>
    <div
      style="width:100px;height:100px;position:absolute;left:10px;top:10px;background:blue"
    ></div>
  </div>
</div>
```

![absolute2](../../images/201029-TIL/absolute2.png)

ìœ„ì˜ ì˜ˆì œì—ì„œ ë¶„í™ìƒ‰ ìƒìëŠ” offset parentê°€ bodyë¡œ ì„¤ì •ë˜ì–´ offset ë§Œí¼ bodyë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì›€ì§ì¸ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

ê·¸ëŸ¬ë‚˜ ì´ì „ ì˜ˆì œì™€ëŠ” ë‹¬ë¦¬ íŒŒë€ìƒ‰ ìƒìëŠ” position: absoluteë¡œ ì„¤ì •ëœ ë¶„í™ìƒ‰ ìƒìë¥¼ ê¸°ì¤€ìœ¼ë¡œ offset ë§Œí¼ ì´ë™í•œ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

```html
<style>
  .in {
    display: inline-block;
    width: 100px;
    height: 100px;
    border: 1px solid #fff;
  }
  .abs {
    width: 50px;
    height: 50px;
    position: absolute;
    left: 10px;
    top: 10px;
    background: #00f;
  }
</style>
<div class="in"></div>
<div class="in"></div>
<div class="in"></div>
<div class="in" style="position:relative">
  <div class="abs"></div>
</div>
<div class="in"></div>
<div class="in"></div>
<div class="in"></div>
<div class="in"></div>
<div class="in" style="position:relative">
  <div class="abs"></div>
</div>
<div class="in"></div>
```

![relative-bridge](../../images/201029-TIL/relative-bridge.png)

ìœ„ì˜ ì˜ˆì œì—ì„œ `.in`ì€ inline-blockì´ë¯€ë¡œ ìˆ˜í‰ ë°©í–¥ìœ¼ë¡œ ìŒ“ì´ê²Œ ë˜ê³ , `.abs`ëŠ” ëª¨ë‘ absoluteë¡œ ì„¤ì •ë˜ì–´ offsetì„ ê°€ì§€ê³  ìˆê²Œ ëœë‹¤. ì´ë•Œ ë¶€ëª¨ ìš”ì†Œ ì¤‘ì— position: relative ë˜ëŠ” absoluteë¡œ ì„¤ì •ëœ ìš”ì†Œë¥¼ ê¸°ì¤€ìœ¼ë¡œ offset ë§Œí¼ ë–¨ì–´ì ¸ì„œ ë°°ì¹˜ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

## Reference

- [ì½”ë“œìŠ¤í”¼ì¸ 76 - CSS Rendering](https://www.youtube.com/watch?v=_o1zsrBkZyg)
